<section id="galeria" class="pt-28 px-4 sm:px-16">
  <h2 class="flex justify-center pb-6 font-semibold text-3xl">Galería</h2>
  <div class="grid grid-cols-2 md:grid-cols-3 gap-1">
    <div class="overflow-hidden rounded-lg">
      <img
        class="zoom"
        src="/sillon.webp"
        decoding="async"
        loading="lazy"
        title="sillon de dentista"
        alt="sillon de dentista"
      />
    </div>
    <div class="overflow-hidden rounded-lg">
      <img
        class="zoom"
        src="/sala-de-espera.webp"
        decoding="async"
        loading="lazy"
        title="sala de espera"
        alt="sala de espera"
      />
    </div>
    <div class="overflow-hidden rounded-lg">
      <img
        class="zoom"
        src="/esterilizacion.webp"
        decoding="async"
        loading="lazy"
        title="esterilizacion"
        alt="esterilizacion"
      />
    </div>
    <div class="overflow-hidden rounded-lg">
      <img
        class="zoom"
        src="/instrumentos.webp"
        decoding="async"
        loading="lazy"
        title="instrumentos"
        alt="instrumentos"
      />
    </div>
    <div class="overflow-hidden rounded-lg">
      <img
        class="zoom"
        src="/ultrasonido.webp"
        decoding="async"
        loading="lazy"
        title="ultrasonido"
        alt="ultrasonido"
      />
    </div>
    <div class="relative w-full max-w-4xl mx-auto overflow-hidden rounded-lg">
      <img
        src="/radiografia.webp"
        alt="Before"
        class="absolute inset-0 w-full h-full object-cover"
      />
      <div class="absolute inset-0 w-full h-full overflow-hidden">
        <img
          src="/image6.webp"
          alt="After"
          class="absolute inset-0 w-full h-full object-cover after-image"
        />
      </div>
      <div class="divider"></div>
      <div class="handle"></div>
      <input
        type="range"
        min="0"
        max="100"
        value="50"
        class="absolute inset-0 w-full h-full opacity-0 cursor-pointer slider"
        aria-label="Deslizador de comparación de imágenes"
      />
    </div>
  </div>
</section>

<style>
  #galeria {
    @media (min-width: 1400px) {
      margin: 0% 10%;
    }
  }
  .zoom {
    transition: all 0.5s ease;
  }

  .zoom:hover {
    transform: scale(1.2);
  }
  .relative {
    position: relative;
  }
  .absolute {
    position: absolute;
  }
  .overflow-hidden {
    overflow: hidden;
  }
  .rounded-lg {
    border-radius: 0.5rem;
  }
  .object-cover {
    object-fit: cover;
  }
  .cursor-pointer {
    cursor: pointer;
  }
  .after-image {
    clip-path: inset(0 50% 0 0);
  }
  .divider {
    position: absolute;
    top: 0;
    left: 50%;
    width: 2px;
    height: 100%;
    background: #fff;
    z-index: 1;
  }
  .handle {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 20px;
    background: #fff;
    border-radius: 50%;
    z-index: 2;
  }
  @media (max-width: 768px) {
    .handle {
      width: 30px;
      height: 30px;
    }
    .divider {
      width: 4px;
    }
  }
</style>

<script>
  const slider = document.querySelector(".slider");
  const afterImage = document.querySelector(".after-image");
  const divider = document.querySelector(".divider");
  const handle = document.querySelector(".handle");

  slider.addEventListener("input", (e) => {
    const value = e.target.value;
    afterImage.style.clipPath = `inset(0 ${100 - value}% 0 0)`;
    divider.style.left = `${value}%`;
    handle.style.left = `${value}%`;
  });

  // Mejorar la experiencia táctil en dispositivos móviles
  slider.addEventListener("touchmove", (e) => {
    const touch = e.touches[0];
    const rect = slider.getBoundingClientRect();
    const value = ((touch.clientX - rect.left) / rect.width) * 100;
    slider.value = value;
    afterImage.style.clipPath = `inset(0 ${100 - value}% 0 0)`;
    divider.style.left = `${value}%`;
    handle.style.left = `${value}%`;
  });
</script>
